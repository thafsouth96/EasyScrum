{% extends "FOSUserBundle::layout.html.twig" %}


{% trans_default_domain 'FOSUserBundle' %}

{% block title %}Connexion{% endblock %}
{% block fos_user_content %}
{% if error %}
    <div class="alert alert-danger" role="alert">
      {{ error.messageKey|trans(error.messageData, 'security') }}
    </div>
{% endif %}
<div id="divContent">
<div class="panel panel-info" >
      <div class="panel-heading">
              <div class="panel-title">Connexion</div>
              <div style="float:right; font-size: 80%; position: relative; top:-10px"><a href="{{path('fos_user_resetting_request')}}">Mot de passe oubli√© ?</a></div>
          </div>
      <div style="padding-top:30px" class="panel-body" >

          <div style="display:none" id="login-alert" class="alert alert-danger col-sm-12"></div>

          <form id = "loginform" action="{{ path("fos_user_security_check") }}" method="post" class="form-signin form-horizontal">
              <input type="hidden" name="_csrf_token" value="{{ csrf_token }}" />
              <label for="username" class ="sr-only">{{ 'security.login.username'|trans }}</label>

              <div style="margin-bottom: 25px" class="input-group">
                  <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                  <input type="text" id="login-username" name="_username" value="{{ last_username }}" placeholder="Email adress ou nom utilisateur" class="form-control" autofocus required/>
              </div>

              <label for="password" class="sr-only">{{ 'security.login.password'|trans }}</label>

              <div style="margin-bottom: 25px" class="input-group">
                  <span class="input-group-addon" ><i class="glyphicon glyphicon-lock"></i></span>
                  <input type="password" class="form-control" name="_password" placeholder="password" required />
              </div>

              <div class="input-group">
                <div class="checkbox">
                    <label>
                      <input type="checkbox" name="_remember_me" value="remember-me" /> {{ 'security.login.remember_me'|trans }}
                    </label>
                </div>
              </div>

              <input type="submit"
                     class="btn btn-lg btn-primary btn-block"
                     id="_submit"
                     name="_submit"
                     value="{{ 'security.login.submit'|trans }}" />

              <div class="form-group">
                  <div class="col-md-12 control">
                      <div style="border-top: 1px solid#888; padding-top:15px; font-size:85%" >
                         Vous n'avez pas de compte!
                      <a href="{{ path('fos_user_registration_register')}}" onClick="$('#loginbox').hide(); $('#signupbox').show()">
                        Inscrivez-vous ici
                      </a>
                      </div>
                    </div>
              </div>
          </form>
      </div>

</div>
</div>

{% endblock fos_user_content %}

{% block stylesheets %}
    <style>
        body {
          padding-top: 40px;
          padding-bottom: 40px;
          background-color: #eee;
        }

        .form-signin {
          max-width: 330px;
          padding: 15px;
          margin: 0 auto;
        }
        .form-signin .form-signin-heading,
        .form-signin .checkbox {
          margin-bottom: 10px;
        }
        .form-signin .checkbox {
          font-weight: normal;
        }
        .form-signin .form-control {
          position: relative;
          height: auto;
          -webkit-box-sizing: border-box;
             -moz-box-sizing: border-box;
                  box-sizing: border-box;
          padding: 10px;
          font-size: 16px;
        }
        .form-signin .form-control:focus {
          z-index: 2;
        }
        .form-signin input[type="email"] {
          margin-bottom: -1px;
          border-bottom-right-radius: 0;
          border-bottom-left-radius: 0;
        }
        .form-signin input[type="password"] {
          margin-bottom: 10px;
          border-top-left-radius: 0;
          border-top-right-radius: 0;
        }
    </style>
{% endblock %}
